{"ast":null,"code":"import { PUSH_PAGE_TO_HISTORY, SET_PAGE_IN_HISTORY } from '../actions/actionsTypes';\n\nfunction pushPageToHistory(state, action) {\n  // const key = action.data.location.key;\n  const key = action.data.current;\n  let keys = [];\n  const pages = {};\n\n  for (let k of state.keys) {\n    keys.push(k);\n    pages[k] = state.pages[k];\n    if (k === action.data.prevKey) break;\n  }\n\n  keys.push(key);\n  pages[key] = action.data;\n  return {\n    pages,\n    keys,\n    current: action.data.current\n  };\n}\n\nexport default function historyReducer(state = {\n  pages: {},\n  keys: [],\n  current: null\n}, action) {\n  switch (action.type) {\n    case PUSH_PAGE_TO_HISTORY:\n      return pushPageToHistory(state, action);\n\n    case SET_PAGE_IN_HISTORY:\n      return {\n        pages: state.pages,\n        keys: state.keys,\n        current: action.key\n      };\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/aziza/reactapp/src/reducers/history.js"],"names":["PUSH_PAGE_TO_HISTORY","SET_PAGE_IN_HISTORY","pushPageToHistory","state","action","key","data","current","keys","pages","k","push","prevKey","historyReducer","type"],"mappings":"AAAA,SACCA,oBADD,EAECC,mBAFD,QAGO,yBAHP;;AAKA,SAASC,iBAAT,CAA2BC,KAA3B,EAAkCC,MAAlC,EAA0C;AACzC;AACA,QAAMC,GAAG,GAAGD,MAAM,CAACE,IAAP,CAAYC,OAAxB;AACA,MAAIC,IAAI,GAAG,EAAX;AACA,QAAMC,KAAK,GAAG,EAAd;;AACA,OAAK,IAAIC,CAAT,IAAcP,KAAK,CAACK,IAApB,EAA0B;AACzBA,IAAAA,IAAI,CAACG,IAAL,CAAUD,CAAV;AACAD,IAAAA,KAAK,CAACC,CAAD,CAAL,GAAWP,KAAK,CAACM,KAAN,CAAYC,CAAZ,CAAX;AACA,QAAIA,CAAC,KAAKN,MAAM,CAACE,IAAP,CAAYM,OAAtB,EAA+B;AAC/B;;AACDJ,EAAAA,IAAI,CAACG,IAAL,CAAUN,GAAV;AACAI,EAAAA,KAAK,CAACJ,GAAD,CAAL,GAAaD,MAAM,CAACE,IAApB;AACA,SAAO;AACNG,IAAAA,KADM;AACCD,IAAAA,IADD;AAEND,IAAAA,OAAO,EAAEH,MAAM,CAACE,IAAP,CAAYC;AAFf,GAAP;AAIA;;AAED,eAAe,SAASM,cAAT,CAAwBV,KAAK,GAAG;AAC9CM,EAAAA,KAAK,EAAE,EADuC;AAE9CD,EAAAA,IAAI,EAAE,EAFwC;AAG9CD,EAAAA,OAAO,EAAE;AAHqC,CAAhC,EAIZH,MAJY,EAIJ;AACV,UAAQA,MAAM,CAACU,IAAf;AACC,SAAKd,oBAAL;AACA,aAAOE,iBAAiB,CAACC,KAAD,EAAQC,MAAR,CAAxB;;AACA,SAAKH,mBAAL;AACA,aAAO;AACNQ,QAAAA,KAAK,EAAEN,KAAK,CAACM,KADP;AAEND,QAAAA,IAAI,EAAEL,KAAK,CAACK,IAFN;AAGND,QAAAA,OAAO,EAAEH,MAAM,CAACC;AAHV,OAAP;;AAKA;AACA,aAAOF,KAAP;AAVD;AAYA","sourcesContent":["import {\n\tPUSH_PAGE_TO_HISTORY,\n\tSET_PAGE_IN_HISTORY\n} from '../actions/actionsTypes';\n\nfunction pushPageToHistory(state, action) {\n\t// const key = action.data.location.key;\n\tconst key = action.data.current;\n\tlet keys = [];\n\tconst pages = {};\n\tfor (let k of state.keys) {\n\t\tkeys.push(k);\n\t\tpages[k] = state.pages[k];\n\t\tif (k === action.data.prevKey) break;\n\t}\n\tkeys.push(key);\n\tpages[key] = action.data;\n\treturn {\n\t\tpages, keys,\n\t\tcurrent: action.data.current\n\t};\n}\n\nexport default function historyReducer(state = {\n\tpages: {},\n\tkeys: [],\n\tcurrent: null\n}, action) {\n\tswitch (action.type) {\n\t\tcase PUSH_PAGE_TO_HISTORY:\n\t\treturn pushPageToHistory(state, action);\n\t\tcase SET_PAGE_IN_HISTORY:\n\t\treturn {\n\t\t\tpages: state.pages,\n\t\t\tkeys: state.keys,\n\t\t\tcurrent: action.key\n\t\t};\n\t\tdefault:\n\t\treturn state;\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}